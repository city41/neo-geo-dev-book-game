#include "cromAnimationDefs.h"

<% animationGroups.forEach(function(animationGroup) { -%>
// start <%= animationGroup.name %>

<% animationGroup.animations.forEach(function(animation) { -%>
const struct FrameDef frameDefs_<%= animationGroup.name %>_<%= animation.name %>[<%= animation.frames.length %>] = {
<% animation.frames.forEach(function(frame, i, a) { -%>
    {
        .tileIndex = <%= frame[0][0].index %>,
        .paletteIndex = <%= frame[0][0].paletteIndex %>
    }<% if (i < a.length - 1) { %>,<% } %>
<% }); -%>
};

const struct AnimationDef animationDef_<%= animationGroup.name %>_<%= animation.name %> = {
    .frames = frameDefs_<%= animationGroup.name %>_<%= animation.name %>,
    .frameCount = <%= animation.frames.length %>,
    .frameDuration = <%= animation.custom.frameDuration %>
};

<% }); -%>

// end <%= animationGroup.name %>
<% }); -%>
